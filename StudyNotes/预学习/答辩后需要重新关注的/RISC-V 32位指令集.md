# RISC-V 32位指令集（RV32）

## 1. RV32I 基础指令集

| 分类             | 指令       | 描述                             |
|------------------|------------|----------------------------------|
| **整数寄存器-寄存器操作** | ADD        | 加法                             |
|                  | SUB        | 减法                             |
|                  | AND        | 按位与                           |
|                  | OR         | 按位或                           |
|                  | XOR        | 按位异或                         |
|                  | SLL        | 逻辑左移                         |
|                  | SRL        | 逻辑右移                         |
|                  | SRA        | 算术右移                         |
|                  | SLT        | 有符号比较，小于时置1            |
|                  | SLTU       | 无符号比较，小于时置1            |
| **整数寄存器-立即数操作** | ADDI       | 加立即数                         |
|                  | ANDI       | 按位与立即数                     |
|                  | ORI        | 按位或立即数                     |
|                  | XORI       | 按位异或立即数                   |
|                  | SLLI       | 逻辑左移立即数                   |
|                  | SRLI       | 逻辑右移立即数                   |
|                  | SRAI       | 算术右移立即数                   |
|                  | SLTI       | 有符号比较立即数，小于时置1      |
|                  | SLTIU      | 无符号比较立即数，小于时置1      |
| **控制转移指令**    | JAL        | 跳转并链接（用于函数调用）       |
|                  | JALR       | 通过寄存器跳转并链接             |
|                  | BEQ        | 相等时分支                       |
|                  | BNE        | 不等时分支                       |
|                  | BLT        | 有符号小于时分支                 |
|                  | BGE        | 有符号大于等于时分支             |
|                  | BLTU       | 无符号小于时分支                 |
|                  | BGEU       | 无符号大于等于时分支             |
| **加载和存储指令**  | LW         | 加载字                           |
|                  | SW         | 存储字                           |
|                  | LH         | 加载半字                         |
|                  | LHU        | 加载无符号半字                   |
|                  | SH         | 存储半字                         |
|                  | LB         | 加载字节                         |
|                  | LBU        | 加载无符号字节                   |
|                  | SB         | 存储字节                         |
| **其他指令**       | LUI        | 加载高位立即数                   |
|                  | AUIPC      | 将立即数加到PC                   |
|                  | FENCE      | 内存屏障                         |
|                  | ECALL      | 环境调用                         |
|                  | EBREAK     | 调试断点                         |

## 2. 可选扩展

### M 扩展（乘除法）

| 指令      | 描述                     |
|-----------|--------------------------|
| MUL       | 乘法                     |
| MULH      | 高位有符号乘法            |
| MULHU     | 高位无符号乘法            |
| MULHSU    | 高位有符号乘无符号        |
| DIV       | 有符号除法                |
| DIVU      | 无符号除法                |
| REM       | 有符号取余                |
| REMU      | 无符号取余                |

### A 扩展（原子操作）

| 指令       | 描述                     |
|------------|--------------------------|
| LR.W       | 加载保留字               |
| SC.W       | 条件存储字               |
| AMOSWAP.W  | 原子交换字               |
| AMOADD.W   | 原子加字                 |
| AMOAND.W   | 原子与字                 |
| AMOOR.W    | 原子或字                 |
| AMOXOR.W   | 原子异或字               |
| AMOMIN.W   | 原子最小值（有符号）      |
| AMOMAX.W   | 原子最大值（有符号）      |
| AMOMINU.W  | 原子最小值（无符号）      |
| AMOMAXU.W  | 原子最大值（无符号）      |

### F 扩展（单精度浮点）

| 指令        | 描述                           |
|-------------|--------------------------------|
| FADD.S      | 单精度浮点加法                 |
| FSUB.S      | 单精度浮点减法                 |
| FMUL.S      | 单精度浮点乘法                 |
| FDIV.S      | 单精度浮点除法                 |
| FSQRT.S     | 单精度浮点平方根               |
| FMIN.S      | 单精度浮点最小值               |
| FMAX.S      | 单精度浮点最大值               |
| FMADD.S     | 单精度浮点乘加                 |
| FMSUB.S     | 单精度浮点乘减                 |
| FNMSUB.S    | 单精度浮点负乘减               |
| FNMADD.S    | 单精度浮点负乘加               |
| FCVT.W.S    | 单精度浮点转整数               |
| FCVT.S.W    | 整数转单精度浮点               |
| FSGNJ.S     | 符号注入                       |
| FSGNJN.S    | 符号取反注入                   |
| FSGNJX.S    | 符号异或注入                   |
| FEQ.S       | 单精度浮点相等比较             |
| FLT.S       | 单精度浮点小于比较             |
| FLE.S       | 单精度浮点小于等于比较         |
| FCLASS.S    | 单精度浮点分类                 |

### D 扩展（双精度浮点）

| 指令        | 描述                           |
|-------------|--------------------------------|
| 类似单精度浮点指令，但操作双精度浮点数。 |                                |

### C 扩展（压缩指令）

| 描述                           |
|--------------------------------|
| 提供16位版本的常用32位指令，减少代码大小。 |

## 3. 特权指令

| 指令  | 描述             |
|-------|------------------|
| MRET  | 从机器模式异常返回 |
| SRET  | 从监管模式异常返回 |
| WFI   | 等待中断         |
| SFENCE.VMA | 刷新TLB       |

## 总结

RV32I 是 RISC-V 32位架构的基础指令集，其他扩展如 M、A、F、D、C 等可根据需求添加。
