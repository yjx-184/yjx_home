- [二进制算术运算](#二进制算术运算)
  - [原码，反码，补码](#原码反码补码)
  - [减法运算](#减法运算)
  - [格雷码](#格雷码)
- [逻辑代数](#逻辑代数)
  - [三种基本运算](#三种基本运算)
  - [常见的复合逻辑运算](#常见的复合逻辑运算)
  - [基本公式](#基本公式)
  - [常用公式](#常用公式)
  - [基本定理](#基本定理)
- [MOS管](#mos管)
  - [NMOS管](#nmos管)
  - [两类MOS晶体管-耗尽型和增强型](#两类mos晶体管-耗尽型和增强型)
  - [MOS器件的频率特征](#mos器件的频率特征)
  - [CMOS管（同时采用NMOS和PMOS）](#cmos管同时采用nmos和pmos)
  - [CMOS倒相器设计](#cmos倒相器设计)
  - [功耗](#功耗)
  - [CMOS逻辑门](#cmos逻辑门)
    - [反相器（非门）](#反相器非门)
    - [与非门](#与非门)
    - [或非门](#或非门)
  - [其他CMOS逻辑门](#其他cmos逻辑门)
    - [异或门：](#异或门)
    - [传输门：](#传输门)
    - [三态门（三态缓冲器）：](#三态门三态缓冲器)
  - [组合电路](#组合电路)
    - [编码器](#编码器)
    - [译码器](#译码器)
    - [数据选择器（多路电路）（多路开关）](#数据选择器多路电路多路开关)
    - [加法器](#加法器)
    - [数值比较器](#数值比较器)
  - [组合逻辑电路中的竞争-冒险](#组合逻辑电路中的竞争-冒险)
    - [竞争](#竞争)
    - [冒险](#冒险)
    - [竞争-冒险](#竞争-冒险)
    - [判别竞争-冒险](#判别竞争-冒险)
    - [消除竞争-冒险现象的方法](#消除竞争-冒险现象的方法)
- [单元库设计技术](#单元库设计技术)
  - [概念](#概念)
  - [单元库建库的一般流程](#单元库建库的一般流程)
  - [标准单元设计技术](#标准单元设计技术)
  - [输入，输出单元](#输入输出单元)
- [时序逻辑电路](#时序逻辑电路)
  - [时钟](#时钟)
  - [D触发器/寄存器](#d触发器寄存器)
  - [电路结构的分类（同步，主从，边沿）](#电路结构的分类同步主从边沿)
    - [脉冲触发的触发器(SR,JK触发器)](#脉冲触发的触发器srjk触发器)
    - [边沿触发器](#边沿触发器)
    - [利用CMOS传输门的边沿触发器：](#利用cmos传输门的边沿触发器)
  - [逻辑功能的分类](#逻辑功能的分类)
    - [SR触发器](#sr触发器)
    - [JK触发器](#jk触发器)
    - [T触发器](#t触发器)
    - [D触发器](#d触发器)
  - [计数器](#计数器)
    - [同步计数器](#同步计数器)
    - [异步计数器](#异步计数器)
    - [任意进制计数器的构成方法](#任意进制计数器的构成方法)
- [半导体存储器](#半导体存储器)
  - [ROM](#rom)
    - [掩模ROM](#掩模rom)
    - [可编程ROM(PROM)](#可编程romprom)
    - [可擦除的可编程ROM（EPROM）](#可擦除的可编程romeprom)
    - [快闪存储器](#快闪存储器)
  - [随机存储器RAM](#随机存储器ram)
    - [静态RAM（SRAM）（常用）](#静态ramsram常用)
    - [动态随机存储器（DRAM）（用的不太多）](#动态随机存储器dram用的不太多)
  - [存储器容量的扩展](#存储器容量的扩展)
- [脉冲波形的产生和整形电路](#脉冲波形的产生和整形电路)
  - [施密特触发电路](#施密特触发电路)
    - [门电路组成的施密特触发器](#门电路组成的施密特触发器)
    - [集成施密特触发器](#集成施密特触发器)
  - [单稳态触发器](#单稳态触发器)
    - [用门电路组成的单稳态触发器](#用门电路组成的单稳态触发器)
    - [集成单稳态触发器](#集成单稳态触发器)
  - [多谐振荡器](#多谐振荡器)
    - [环形振荡器(负反馈)](#环形振荡器负反馈)
    - [施密特触发器构成的多谐振荡器](#施密特触发器构成的多谐振荡器)
    - [对称式多谐振荡器](#对称式多谐振荡器)

# 二进制算术运算

## 原码，反码，补码
>>原码：加一个符号位，其1表示负数，0表示正数（如+1000=01000；-1000=11000）
>>反码：正数反码和原码一样，负数除去符号位都取反（如（-1000）=10111）
>>补码：正数和原码一样，负数在其反码的基础上加1(加在最右边)（如（-1000）=11000）  
>>总结： “即正数原码、反码和补码都一样，负数的反码除去符号位都取反，补码在其反码的基础上再加1即可”  

## 减法运算  
>>利用补码运算。

## 格雷码

![](pic/格雷码.png)  
>>作用：可以体现物理距离。  


# 逻辑代数  

## 三种基本运算

与运算：  

![](pic/与运算.png)
 ***
 ***  

 或运算：  

 ![](pic/或运算.png)
 ***
 ***  

 非运算：  

 ![](pic/非运算.png)

 ## 常见的复合逻辑运算

 ![](pic/常见复合逻辑运算.png)  
 ![](pic/常见符合逻辑运算2.png)  
 ![](pic/常见复合逻辑运算3.png)  

## 基本公式

![](pic/逻辑运算常用公式.png)  

## 常用公式
![](pic/常见复合逻辑运算公式4.png)  

## 基本定理

>>1.代入定理：在任何一个包含变量A的逻辑等式中，若以另外一个逻辑式代入式中所有A的位置，则等式成立。简单来讲，就是只要我代替了你这个等式中所有的A，那么代替A后的这个等式也是成立的。  
>>2.反演定理：对于任意一个逻辑式Y,若将其所有的“.”换成“+”，“+”换成“.”，0换成1，1换成0，原变量换成反变量，反变量换成原变量，则得到的结果就是Y’。如Y=A(B+C)+CD 则Y’=(A’+B’C’)(C’+D’)。即乘换成加，加换成乘，原边反，反边原。  
>>3.对偶定理：对于任意一个逻辑式Y,若将其所有的“.”换成“+”，“+”换成“.”，0换成1，1换成0，则得到的一个新的逻辑式就是Y（D这个D在右上角，我打不上去，只好搁在这里）。如：Y=A(B+C) 则Y(D)=A+BC


# MOS管

## NMOS管
![](pic/NMOS.png)
![](pic/NMOS_2.png)
漏极：D 源极：S 栅极：G


没加电的时候不分源漏，那边加的电压大那边是漏。

载流子永远是源端到漏端。

沟道的产生是因为存在电压差。(V<sub>GS</sub> 足够大)


>>1)截止区: VGS</sub> < V<sub>TN</sub>（阈值电压）  

>>2)线性区: V<sub>GS</sub> >=V<sub>TN</sub> , V<sub>DS</sub> < V<sub>GS</sub> -    V<sub>TN</sub> 。满足条件：V<sub>DS</sub>小.V<sub>GS</sub>>V<sub>TN</sub>保证了沟道。  
>>>>原理：VDS变大，会使沟道从均匀慢慢变窄（D漏端）(梯形)，S保持不变。当漏端只有一个点，就叫夹断点。此时有一段区域沟道没有了。（VGD电压差变小）  
>>>>沟道夹断条件: V<sub>DS</sub> >=V<sub>GS</sub> - V<sub>TN</sub> 等价 V<sub>DG</sub> <= V<sub>TN</sub>  

>>3)饱和区:V<sub>GS</sub> >= V<sub>TN</sub>, V<sub>DS</sub> >= V<sub>GS</sub> - V<sub>TN</sub>特点：电流不变  



夹断区示意图：  

![](pic/NMOS_3.png)
![](pic/NMOS_夹断区间.png)  
![](pic/NMOS_沟道长度调制效应.png)
  

电流-电压特性：

![](pic/NMOS_电流电压特性.png)   
![](pic/NMOS_电流电压特性系数.png)  

注意：（饱和区）当有沟道长度效应的时候才需要考虑后面的因子。 




## 两类MOS晶体管-耗尽型和增强型
![](pic/NMOS_耗尽增强.png)
区别：VGS=0的时候耗尽型还是有电流的 ，而增强型就变成了截止区了。增强型刚开始是没有沟道的。

如何判断是NMOS还是PMOS：

![](pic/NMOS_简略图判断.png)


## MOS器件的频率特征
![](pic/NMOS_频率特征.png)


## CMOS管（同时采用NMOS和PMOS）
结构示意图：

![](pic/CMOS_结构.png)
需要给右侧衬底接低电位或者接地，左边n-阱加高电位

结构俯瞰图：

![](pic/CMOS_结构俯瞰图.png)
左侧是PMOS，右侧是NMOS。


## CMOS倒相器设计
CMOS倒相器设计的基础：

![](pic/CMOS_倒相器设计基础.png)

倒相器的逻辑功能：

![](pic/CMOS_倒相器逻辑功能.png)
>>右边模型叫数字逻辑行为模型  
>>当Vin=VDD 时，NMOS导通，输出有一个对地的通路，所以输出为0  
>>当Vin=0 时，NMOS不导通，PMOS导通。PMOS的VGS < VDD(小于一个负值)，Vout与VDD有通路，所以Vout=VDD  

***
***
静态特征：

![](pic/CMOS_静态特征.png)
>>1)0 < VM < VTN NMOS截止，PMOS线性  ，状态：都是I=0  
>>2)Vin >= VTN 此时N,P都是导通  

![](pic/电流电压清华.png)

***
***

动态特征：

![](pic/CMOS_动态特征.png)
![](pic/CMOS_动态特征2.png)  

静态动态特性：  

![](pic/CMOS静态动态特性.png)  

***
***
## 功耗  
>>动态功耗--负载功耗：由于等效电容的存在，电流流过R的时候就会有功耗。（充电和放电负载电容都需要能量）  

![](pic/负载功耗2.png)  

 >>时间会有滞后的原因是，输入端电压变化的时候，由于电容的存在需要充放电导致不会突变。  

>>静态功耗：关断的晶体管总是有泄漏的，总会有小电流在电源和地之间流动，从而引起静态功耗。 
 ![](pic/总功耗.png)

## CMOS逻辑门
### 反相器（非门）
![](pic/逻辑门上下拉网络.png)
>>上拉网络等效成PMOS管，下拉网络等效成NMOS管，两者为对偶逻辑  
>>互补逻辑门是“反相”的：AND = NAND + INV  

### 与非门
![](pic/对偶逻辑门公式.png)
![](pic/对偶逻辑门公式_2.png)  
![](pic/逻辑门电路真值表1.png)
>>下面110部分是NMOS，PMOS控制输出1.同时上面的AB属于并联，下面的AB属于串联.  
>>这样的结构实现的是与非门。  

![](pic/CMOS与非门.png)

***
***

等效反相器：  

串联等效：  

![](pic/等效倒相器1.png)

并联等效：  

![](pic/等效2倒相器2.png)

同样有上拉下拉两种情况，对应并联PMOS和并联NMOS。  

与非门的设计方法：

![](pic/与非门的设计方法.png)

### 或非门
上拉网络是由两个pMOS管串联的，使输出上拉到高电平；下拉网络是由两个nMOS管并联而成的，使输出下拉到低电平。

## 其他CMOS逻辑门
![](pic/其他CMOS逻辑门1.png)
>>计算方法：串联加倍，并联不变。 

***
***

复杂网络设计方法：  

![](pic/复杂网络设计方法.png)  

***
***

### 异或门：  
![](pic/异或门.png)
![](pic/异或门真值表.png)
>>作用：
>>1.构成加法器的一环。  
>>2.极性控制。

![](pic/异或门极性控制.png)  

***
***

### 传输门：  
>>作用：双向开关。  
>>当nMOS或pMOS管单独用来作为一个非理想的开关的时候，我们称它为传输管。  
>>当把一个nMOS管和一个pMOS管并联在一起的时候，将得到一个开关，这就叫传输门。

![](pic/CMOS传输门.png)
![](pic/传输门.png)  
>>VG加高电压。
>>特色：源漏端不确定，取决于电流的流向。  
>>NMOS：传输高电平会有阈值损失，而传输低电平则不会。
>>pMOS：传输低电平会有阈值损失，而传输高电平则不会。  
>>解决：将上面两种晶体管并联。(CMOS)  

***
***  

### 三态门（三态缓冲器）：  
 >>作用：任何电路中想要把一个门有时断开有时连上的时候选择。(有物理连接，没有电气连接)  

 ![](pic/三态门.png) 
 ![](pic/CMOS三态门.png)  
 >>一定有一个优先级是最高的。  

 ![](pic/CMOS三态门总结.png)  

 ## 组合电路

 ### 编码器
 >>功能：将输入的每一个高、低电平信号编成一个对应的二进制代码。其本质就是赋予二进制代码特定含义的过程，一般分为普通编码器和优先编码器两类。  
 >>普通和优先的区别在于普通编码器要求只输入一个有效编码信号，而优先编码器允许多个有效编码信号的输入，但是我只会从优先级最高的那个开始，比如3-8线优先编码器，则最先从I7开始编码。  

普通编码器：

![](pic/普通编码器.png)
![](pic/普通编码器2.png)  

3-8线集成优先编码器：  

![](pic/优先编码器.png)  

3-8编码器已经模块化了，两个3-8编码器可以组合成一个4-16编码器，只不过要做一些处理。

### 译码器
![](pic/译码器.png)
![](pic/译码器2.png)
![](pic/译码器3.png)  
会溢出所有最小项，同时可以复用。

### 数据选择器（多路电路）（多路开关）
>>多路开关是CMOS存储单元和数据处理结构中的关键部件。  
>>作用：从几个输入中选择出其中一个作为输出。


![](pic/数据选择器1.png)
![](pic/数据选择器2.png)
![](pic/数据选择器3.png)  

基本原理：  

![](pic/数据选择器基本原理.png)  

缺点：  
>>>>单数出函数，不能复用。  

### 加法器

![](pic/一位加法器.png)
![](pic/全加器.png)  

### 数值比较器

![](pic/数值比较器1.png)  
>>原理：从高位比起，只有高位相等，才比较下一位。

## 组合逻辑电路中的竞争-冒险
### 竞争
>>>>组合逻辑电路中，当某一个变量经过两条以上路径到达输出端时，由于每条路径上的延迟时间的不同，到达终点的时间有先后，这一现象称为竞争。（输入级）
### 冒险
>>>>由于竞争使电路的输出端出现了稳态下没有的干扰脉冲（毛刺）的现象称为冒险。（输出级）
### 竞争-冒险
>>>>由于竞争而在电路输出端可能产生尖峰脉冲的现象称为竞争-冒险。可以这样理解，本来最终结果应该都为0的，但是出现了一小段的1（也就是出现了本不该在理论设计中出现的脉冲干扰信号）。
### 判别竞争-冒险
>>>>只要输出端的逻辑函数在一定条件下可以简化为Y=A+A’或Y=AA’，则可判定存在竞争-冒险现象。
>>>>比如某个电路输出逻辑函数表达式为Y=AB+A’C，此时判断它是否存在竞争-冒险现象，不可以对表达式进行化简，观察有没有一个变量同时出现了原状态和非状态，然后保持这个变量不变，其它变量取0和1的组合，例如：当B=C=1时，上式将成为Y=A+A’，也就是存在竞争冒险现象。
### 消除竞争-冒险现象的方法
>>>>接入滤波电容
>>>>引入选通脉冲
>>>>修改逻辑设计，增加冗余项

# 单元库设计技术

## 概念
优势对比：

![](pic/单元库与老技术对比.png)

概念：是联系底层电路和上层设计的纽带，是VLSI设计的基础，借助这个设计可以获得性能优越的VLSIC。  
目标：全局和局部都被优化。  

![](pic/单元库设计目标.png)  

## 单元库建库的一般流程
![](pic/单元库建库一般流程.png)  

## 标准单元设计技术
特征：  

![](pic/标准单元库设计技术.png)  

实现集成电路或集成系统的过程：  

![](pic/实现集成电路过程.png)  

如何读版图:  


![](pic/读版图.png)

步骤：
>>>>1.识别P，N管。
>>>>2.识别输入输出端口。
>>>>3.栅源漏区分标号。
>>>>4.画电路图整理。

![](pic/标准单元设计的特点.png)  

## 输入，输出单元  
输入：

I/O作用：
>>>>1.链接芯片内部与芯片外部系统。（压焊块）
>>>>2.重要的功能：对外的驱动。
>>>>3.对内提供内外的隔离和输入保护功能。  

I/O单元的形式：  
>>>>1.I/O PAD不仅是压焊块，还有电路，需要电源和地线连通。
>>>>2.压焊块用于链接芯片与封装管座，这些压焊块通常是边长几十微米的矩形。
>>>>3.大部分I/O PAD都是以标准单元的结构形式出现，通常具有等高不等宽的外部形状。  

为什么要ESD保护：

![](pic/ESD引起芯片失败.png)  

![](pic/ESD保护基本原理.png)  

![](pic/ESD保护二极管应用.png)  
>>单二极管会击穿，而双二极管不会。  

可控硅效应：  

![](pic/可控硅效应.png)  
隔离环可以预防。

***
***

输出：  

主要任务：提供一定的驱动能力。  
>>此外，还承担了一定的逻辑功能，单元具有一定的可操作性，与输入电路相比，输出单元的电路形式比较多。  
>>主要的输出单元包括：倒相输出，同相输出，三态输出，以及金属掩膜编程的输入输出单元。  

# 时序逻辑电路
>> 时序逻辑电路特点：  
>>>>1.功能上，任一时刻的输出不仅取决于该时刻的输入，还与电路原来的状态有关。  
>>>>2.电路结构上，包含存储电路和组合电路；存储器状态和输入变量共同决定输出。  

***
***  

>>时序电路的分类：  
>>>>1.同步电路和异步电路。（同步：存储电路中所有触发器的时钟使用统一的clk，状态变化发生同一时刻；异步：没有统一的clk，触发器状态的变化有先有后。）

>>>>2.Mealy型和Moore型：  

![](pic/Mealy_Moore.png)

## 时钟
![](pic/时钟1.png)  

>>同步信号：跟触发器相配合的一个动作状态和信号  
>>异步信号：与时钟配合无关  

作用：  
>>>>能控制进来的信号。（准确知道什么时候会来新的信号）  
>>>>能控制出去的信号。（将太快的信号速度降低）  
>>>>能够暂存状态。  

## D触发器/寄存器  
![](pic/触发器概念.png)
![](pic/触发器动作特点.png)
![](pic/D触发器寄存器.png)  

当CLK = 0， TG1， TG4导通  

![](pic/D触发器2.png)
>>输出Q 保持不变。  

![](pic/D触发器.png)
![](pic/D触发器动作特点.png)

## 电路结构的分类（同步，主从，边沿）

### 脉冲触发的触发器(SR,JK触发器)
![](pic/脉冲触发器.png)
>>有主从触发器(主从结构)  
![](pic/脉冲触发器2.png)
![](pic/脉冲触发的动作特点.png)  
![](pic/脉冲电路分析方法.png)

### 边沿触发器
![](pic/边沿触发器1.png)  
![](pic/边沿触发器电路结构.png)

### 利用CMOS传输门的边沿触发器：  
![](pic/CMOS传输门的边沿触发器.png)
![](pic/边沿触发器的动作特点.png)

## 逻辑功能的分类

### SR触发器
定义：凡在时钟信号作用下，具有如下功能的触发器称为SR触发器。  

![](pic/逻辑SR触发器.png)

### JK触发器  
![](pic/逻辑JK触发器.png)  

### T触发器
![](pic/逻辑T触发器.png)

### D触发器
![](pic/逻辑D触发器.png)

## 计数器
>>作用：用于计数，分频，定时，产生节拍脉冲等。  
>>分类：按时钟分，同步，异步；按计数过程中数字增减分，加，减和可逆；按计数器中的数字编码分，二进制，二-十进制和循环码……；按计数容量分，十进制，六十进制。  

### 同步计数器
![](pic/同步二进制计数器.png)  
![](pic/同步二进制减法计数器.png)
![](pic/同步十进制计数器.png)
![](pic/同步十进制剑法计数器.png)  

### 异步计数器
![](pic/异步二进制加法计数器.png)
>>缺点：tpd逐级变大，在依次翻转的过程中，高位可能来不及变化，出现竞争冒险。  

### 任意进制计数器的构成方法
![](pic/任意进制计数器的构成方法.png)

有的大于需要的：

![](pic/任意进制构成：有的大于需要的.png)  

***
***
有的小于需要的：

![](pic/任意进制构成：有的小于需要的.png)  


# 半导体存储器
>>概念：能存储大量二值信息的器件  
>>分类：（1）只读存储器ROM。（2）随机读/写RAM  

## ROM
结构：  
![](pic/ROM结构.png)  

ROM特点：具有非易失性。  

![](pic/ROM的一些概念.png)  

### 掩模ROM
特点：出厂时已经固定，不能更改，适合大量生产。简单，便宜，非易失性。  

### 可编程ROM(PROM)
总体结构与掩模ROM一样，但存储单元不同。  

![](pic/可编程ROM.png)  

### 可擦除的可编程ROM（EPROM）
![](pic/可擦除ROM.png)

![](pic/点可擦除ROM.png)

![](pic/电可擦除工作原理.png)  

### 快闪存储器
![](pic/快闪存储器.png)  

## 随机存储器RAM
### 静态RAM（SRAM）（常用）
![](pic/RAM工作原理.png)

![](pic/静态RAM2.png)

![](pic/SRAM.png)

### 动态随机存储器（DRAM）（用的不太多）
![](pic/DRAM.png)

## 存储器容量的扩展
![](pic/存储器的容量扩展1.png)
![](pic/存储器的容量扩展2.png)

# 脉冲波形的产生和整形电路

## 施密特触发电路
### 门电路组成的施密特触发器
![](pic/施密特触发电路1.png)
>>施密特触发器也被称之为电平触发的双稳态触发电路，是指输入、输出信号具有滞回性，并可以完成多种逻辑功能的一类集成门电路器件。  
>>特点：1、输入信号从低电平上升的过程中电路状态转换时对应的输入电平，与输入信号从高电平下降过程中对应的输入转换电平不同。2、在电路转换时，通过电路内部的正反馈过程使输出电压波形的边沿变得很陡。  
>>应用：1、用于波形变换。2、用于脉冲鉴幅。3、用于脉冲整形。 
***
***
***
### 集成施密特触发器
一：双极型IC

![](pic/集成施密特触发器1.png)
![](pic/集成施密特触发器2.png)
![](pic/施密特触发器主要特点.png)

## 单稳态触发器
 ![](pic/单稳态触发器特点.png)

 ### 用门电路组成的单稳态触发器
 ![](pic/门电路组成的单稳态触发器.png)
 ![](pic/门电路组成的单稳态触发器2.png)
 ![](pic/门电路组成的单稳态触发器公式.png)
 ![](pic/单稳态性能参数.png)
 ![](pic/单稳态触发器微分型.png)
 ![](pic/单稳态触发器微分型2.png)
 ![](pic/单稳态性能参数2.png)

 ### 集成单稳态触发器
 ![](pic/集成单稳态触发器.png)
 ![](pic/集成单稳态触发器2.png)

## 多谐振荡器
>>特点：自激振荡，不需要外加触发信号。

### 环形振荡器(负反馈)
![](pic/环形振荡器.png)
不好用：周期不靠谱。

改进：  

![](pic/实用环形振荡器.png)  
![](pic/实用环形振荡器2.png)

### 施密特触发器构成的多谐振荡器
![](pic/施密特触发器构成多谐振荡器.png)

### 对称式多谐振荡器
![](pic/对称式多谐振荡器.png)