- [二进制算术运算](#二进制算术运算)
  - [原码，反码，补码](#原码反码补码)
  - [减法运算](#减法运算)
  - [格雷码](#格雷码)
- [逻辑代数](#逻辑代数)
  - [三种基本运算](#三种基本运算)
  - [常见的复合逻辑运算](#常见的复合逻辑运算)
  - [基本公式](#基本公式)
  - [常用公式](#常用公式)
  - [基本定理](#基本定理)
- [MOS管](#mos管)
  - [NMOS管](#nmos管)
  - [两类MOS晶体管-耗尽型和增强型](#两类mos晶体管-耗尽型和增强型)
  - [MOS器件的频率特征](#mos器件的频率特征)
  - [CMOS管（同时采用NMOS和PMOS）](#cmos管同时采用nmos和pmos)
  - [CMOS倒相器设计](#cmos倒相器设计)
  - [功耗](#功耗)
  - [CMOS逻辑门](#cmos逻辑门)
  - [其他CMOS逻辑门](#其他cmos逻辑门)
- [时序逻辑](#时序逻辑)
  - [D触发器/寄存器](#d触发器寄存器)
- [单元库设计技术](#单元库设计技术)
  - [概念](#概念)
  - [单元库建库的一般流程](#单元库建库的一般流程)
  - [标准单元设计技术](#标准单元设计技术)
  - [输入，输出单元](#输入输出单元)

# 二进制算术运算

## 原码，反码，补码
>>原码：加一个符号位，其1表示负数，0表示正数（如+1000=01000；-1000=11000）
>>反码：正数反码和原码一样，负数除去符号位都取反（如（-1000）=10111）
>>补码：正数和原码一样，负数在其反码的基础上加1(加在最右边)（如（-1000）=11000）  
>>总结： “即正数原码、反码和补码都一样，负数的反码除去符号位都取反，补码在其反码的基础上再加1即可”  

## 减法运算  
>>利用补码运算。

## 格雷码

![](pic/格雷码.png)  
>>作用：可以体现物理距离。  


# 逻辑代数  

## 三种基本运算

与运算：  

![](pic/与运算.png)
 ***
 ***  

 或运算：  

 ![](pic/或运算.png)
 ***
 ***  

 非运算：  

 ![](pic/非运算.png)

 ## 常见的复合逻辑运算

 ![](pic/常见复合逻辑运算.png)  
 ![](pic/常见符合逻辑运算2.png)  
 ![](pic/常见复合逻辑运算3.png)  

## 基本公式

![](pic/逻辑运算常用公式.png)  

## 常用公式
![](pic/常见复合逻辑运算公式4.png)  

## 基本定理

>>1.代入定理：在任何一个包含变量A的逻辑等式中，若以另外一个逻辑式代入式中所有A的位置，则等式成立。简单来讲，就是只要我代替了你这个等式中所有的A，那么代替A后的这个等式也是成立的。  
>>2.反演定理：对于任意一个逻辑式Y,若将其所有的“.”换成“+”，“+”换成“.”，0换成1，1换成0，原变量换成反变量，反变量换成原变量，则得到的结果就是Y’。如Y=A(B+C)+CD 则Y’=(A’+B’C’)(C’+D’)。即乘换成加，加换成乘，原边反，反边原。  
>>3.对偶定理：对于任意一个逻辑式Y,若将其所有的“.”换成“+”，“+”换成“.”，0换成1，1换成0，则得到的一个新的逻辑式就是Y（D这个D在右上角，我打不上去，只好搁在这里）。如：Y=A(B+C) 则Y(D)=A+BC


# MOS管

## NMOS管
![](pic/NMOS.png)
![](pic/NMOS_2.png)
漏极：D 源极：S 栅极：G


没加电的时候不分源漏，那边加的电压大那边是漏。

载流子永远是源端到漏端。

沟道的产生是因为存在电压差。(V<sub>GS</sub> 足够大)


>>1)截止区: VGS</sub> < V<sub>TN</sub>（阈值电压）  

>>2)线性区: V<sub>GS</sub> >=V<sub>TN</sub> , V<sub>DS</sub> < V<sub>GS</sub> -    V<sub>TN</sub> 。满足条件：V<sub>DS</sub>小.V<sub>GS</sub>>V<sub>TN</sub>保证了沟道。  
>>>>原理：VDS变大，会使沟道从均匀慢慢变窄（D漏端）(梯形)，S保持不变。当漏端只有一个点，就叫夹断点。此时有一段区域沟道没有了。（VGD电压差变小）  
>>>>沟道夹断条件: V<sub>DS</sub> >=V<sub>GS</sub> - V<sub>TN</sub> 等价 V<sub>DG</sub> <= V<sub>TN</sub>  

>>3)饱和区:V<sub>GS</sub> >= V<sub>TN</sub>, V<sub>DS</sub> >= V<sub>GS</sub> - V<sub>TN</sub>特点：电流不变  



夹断区示意图：  

![](pic/NMOS_3.png)
![](pic/NMOS_夹断区间.png)  
![](pic/NMOS_沟道长度调制效应.png)
  

电流-电压特性：

![](pic/NMOS_电流电压特性.png)   
![](pic/NMOS_电流电压特性系数.png)  

注意：（饱和区）当有沟道长度效应的时候才需要考虑后面的因子。 




## 两类MOS晶体管-耗尽型和增强型
![](pic/NMOS_耗尽增强.png)
区别：VGS=0的时候耗尽型还是有电流的 ，而增强型就变成了截止区了。增强型刚开始是没有沟道的。

如何判断是NMOS还是PMOS：

![](pic/NMOS_简略图判断.png)


## MOS器件的频率特征
![](pic/NMOS_频率特征.png)


## CMOS管（同时采用NMOS和PMOS）
结构示意图：

![](pic/CMOS_结构.png)
需要给右侧衬底接低电位或者接地，左边n-阱加高电位

结构俯瞰图：

![](pic/CMOS_结构俯瞰图.png)
左侧是PMOS，右侧是NMOS。


## CMOS倒相器设计
CMOS倒相器设计的基础：

![](pic/CMOS_倒相器设计基础.png)

倒相器的逻辑功能：

![](pic/CMOS_倒相器逻辑功能.png)
>>右边模型叫数字逻辑行为模型  
>>当Vin=VDD 时，NMOS导通，输出有一个对地的通路，所以输出为0  
>>当Vin=0 时，NMOS不导通，PMOS导通。PMOS的VGS < VDD(小于一个负值)，Vout与VDD有通路，所以Vout=VDD  

***
***
静态特征：

![](pic/CMOS_静态特征.png)
>>1)0 < VM < VTN NMOS截止，PMOS线性  ，状态：都是I=0  
>>2)Vin >= VTN 此时N,P都是导通  

![](pic/电流电压清华.png)

***
***

动态特征：

![](pic/CMOS_动态特征.png)
![](pic/CMOS_动态特征2.png)  

静态动态特性：  

![](pic/CMOS静态动态特性.png)  

***
***
## 功耗  
>>动态功耗--负载功耗：由于等效电容的存在，电流流过R的时候就会有功耗。  

![](pic/负载功耗2.png)  

 >>时间会有滞后的原因是，输入端电压变化的时候，由于电容的存在需要充放电导致不会突变。

## CMOS逻辑门
![](pic/逻辑门上下拉网络.png)
>>上拉网络等效成PMOS管，下拉网络等效成NMOS管，两者为对偶逻辑  
>>互补逻辑门是“反相”的：AND = NAND + INV  

![](pic/对偶逻辑门公式.png)
![](pic/对偶逻辑门公式_2.png)  
![](pic/逻辑门电路真值表1.png)
>>下面110部分是NMOS，PMOS控制输出1.同时上面的AB属于并联，下面的AB属于串联.  
>>这样的结构实现的是与非门。

***
***

等效反相器：  

串联等效：  

![](pic/等效倒相器1.png)

并联等效：  

![](pic/等效2倒相器2.png)

同样有上拉下拉两种情况，对应并联PMOS和并联NMOS。  

与非门的设计方法：
![](pic/与非门的设计方法.png)

## 其他CMOS逻辑门

![](pic/其他CMOS逻辑门1.png)
>>计算方法：串联加倍，并联不变。 

***
***

复杂网络设计方法：  

![](pic/复杂网络设计方法.png)  

***
***

异或门：  

![](pic/异或门.png)
![](pic/异或门真值表.png)
>>作用：
>>1.构成加法器的一环。  
>>2.极性控制。
![](pic/异或门极性控制.png)  

***
***

传输门：  

![](pic/传输门.png)
>>VG加高电压。
>>特色：源漏端不确定，取决于电流的流向。  
>>NMOS：传输高电平会有阈值损失，而传输低电平则不会。
>>pMOS：传输低电平会有阈值损失，而传输高电平则不会。  
>>解决：将上面两种晶体管并联。(CMOS)  

***
***  

三态门：  
 >>作用：任何电路中想要把一个门有时断开有时连上的时候选择。  

 ![](pic/三态门.png)  

# 时序逻辑  
作用：  
>>>>能控制进来的信号。（准确知道什么时候会来新的信号）  
>>>>能控制出去的信号。（将太快的信号速度降低）  
>>>>能够暂存状态。  

## D触发器/寄存器  
![](pic/D触发器寄存器.png)  

当CLK = 0， TG1， TG4导通  

![](pic/D触发器2.png)
>>输出Q 保持不变。  

# 单元库设计技术

## 概念

优势对比：

![](pic/单元库与老技术对比.png)

概念：是联系底层电路和上层设计的纽带，是VLSI设计的基础，借助这个设计可以获得性能优越的VLSIC。  
目标：全局和局部都被优化。  

![](pic/单元库设计目标.png)  

## 单元库建库的一般流程

![](pic/单元库建库一般流程.png)  

## 标准单元设计技术

特征：  

![](pic/标准单元库设计技术.png)  

实现集成电路或集成系统的过程：  

![](pic/实现集成电路过程.png)  

如何读版图:  


![](pic/读版图.png)

步骤：
>>>>1.识别P，N管。
>>>>2.识别输入输出端口。
>>>>3.栅源漏区分标号。
>>>>4.画电路图整理。

![](pic/标准单元设计的特点.png)  

## 输入，输出单元  

输入：

I/O作用：
>>>>1.链接芯片内部与芯片外部系统。（压焊块）
>>>>2.重要的功能：对外的驱动。
>>>>3.对内提供内外的隔离和输入保护功能。  

I/O单元的形式：  
>>>>1.I/O PAD不仅是压焊块，还有电路，需要电源和地线连通。
>>>>2.压焊块用于链接芯片与封装管座，这些压焊块通常是边长几十微米的矩形。
>>>>3.大部分I/O PAD都是以标准单元的结构形式出现，通常具有等高不等宽的外部形状。  

为什么要ESD保护：

![](pic/ESD引起芯片失败.png)  

![](pic/ESD保护基本原理.png)  

![](pic/ESD保护二极管应用.png)  
>>单二极管会击穿，而双二极管不会。  

可控硅效应：  

![](pic/可控硅效应.png)  
隔离环可以预防。

***
***

输出：  

主要任务：提供一定的驱动能力。  
>>此外，还承担了一定的逻辑功能，单元具有一定的可操作性，与输入电路相比，输出单元的电路形式比较多。  
>>主要的输出单元包括：倒相输出，同相输出，三态输出，以及金属掩膜编程的输入输出单元。  

